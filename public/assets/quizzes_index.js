$(document).ready(function(){$(".delete_quiz_link").click(function(d){d.preventDefault();$(this).parents(".quiz").confirmDelete({url:$(this).attr("href"),message:"Are you sure you want to delete this quiz?",error:function(a){$(this).formErrors(a)}})});if($("#quiz_locks_url").length>0){var c={},b=[];$("li.quiz").each(function(){b.push("quiz_"+$(this).attr("id").substring(13))});c.assets=b.join(",");$.ajaxJSON($("#quiz_locks_url").attr("href"),"GET",c,function(d){for(var a in d){var f=a;if(d[a]){var e=
$("#quiz_lock_icon").clone().removeAttr("id");d[a].type="quiz";e.data("lock_reason",d[a]);$("#summary_"+f).find(".quiz_title").prepend(e)}}},function(){})}});
$(document).ready(function(){$(".content_lock_icon").live("click",function(c){if($(this).data("lock_reason")){c.preventDefault();var b=$(this).data("lock_reason"),d=b.type||"content";c=$("<div/>");c.html("This "+d+" is locked.  No other reason has been provided.");if(b.lock_at)c.html("This "+d+" was locked "+$.parseFromISO(b.lock_at).datetime_formatted);else if(b.unlock_at)c.html("This "+d+" is locked until "+$.parseFromISO(b.unlock_at).datetime_formatted);else if(b.context_module){c.html("This "+
d+" is part of the module <b>"+b.context_module.name+"</b> and hasn't been unlocked yet.");if($("#context_modules_url").length>0){c.append("<br/>");b=$("<a/>");b.attr("href",$("#context_modules_url").attr("href"));b.text("Visit the modules page for information on how to unlock this content.");c.append(b)}}var a=$("#lock_reason_dialog");if(a.length===0){a=$("<div/>").attr("id","lock_reason_dialog");$("body").append(a.hide());a.append("<div class='lock_reason_content'></div><div class='button-container'><button type='button' class='button'>Ok, Thanks</button></div>");
a.find(".button-container .button").click(function(){a.dialog("close")})}a.find(".lock_reason_content").empty().append(c);a.dialog("close").dialog({autoOpen:false,title:"Content Is Locked"}).dialog("open")}})});
